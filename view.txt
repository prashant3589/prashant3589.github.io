using System;
using System.Collections.Generic;
using System.IO;
using System.Text.RegularExpressions;

class Program
{
    static void Main()
    {
        string yamlFilePath = @"C:\pipeline\azure-pipelines.yml";
        string yamlContent = File.ReadAllText(yamlFilePath);

        // Match -DatabaseProjectName "Value" anywhere in arguments
        var regex = new Regex(
            @"-DatabaseProjectName\s+""([^""]+)""",
            RegexOptions.IgnoreCase | RegexOptions.Compiled
        );

        var projectNames = new HashSet<string>(StringComparer.OrdinalIgnoreCase);

        foreach (Match match in regex.Matches(yamlContent))
        {
            projectNames.Add(match.Groups[1].Value.Trim());
        }

        Console.WriteLine("Unique Database Project Names:");
        foreach (var name in projectNames)
        {
            Console.WriteLine(name);
        }
    }
}
